<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta
			http-equiv="Content-Security-Policy"
			content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; connect-src 'self' https:; font-src 'self' data:;" />
		<title>Cline Desktop</title>
	</head>
	<body>
		<div id="root"></div>
		<!-- The React app from webview-ui will be mounted here -->
		<div id="loading" class="loading-container">
			<div class="loading-content">
				<img src="../../assets/icons/icon.png" alt="Cline Logo" class="loading-logo" />
				<div class="loading-spinner"></div>
				<div class="loading-text">Loading Cline...</div>
			</div>
		</div>

		<style>
			body,
			html {
				margin: 0;
				padding: 0;
				height: 100%;
				width: 100%;
				overflow: hidden;
				background-color: #1e1e1e;
				color: #e0e0e0;
				font-family:
					-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans",
					"Helvetica Neue", sans-serif;
			}

			#root {
				height: 100%;
				width: 100%;
			}

			.loading-container {
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				display: flex;
				justify-content: center;
				align-items: center;
				background-color: #1e1e1e;
				z-index: 1000;
			}

			.loading-content {
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
			}

			.loading-logo {
				width: 120px;
				height: 120px;
				margin-bottom: 20px;
			}

			.loading-spinner {
				width: 40px;
				height: 40px;
				border: 4px solid rgba(255, 255, 255, 0.1);
				border-radius: 50%;
				border-top: 4px solid #646cff;
				animation: spin 1s linear infinite;
				margin-bottom: 20px;
			}

			.loading-text {
				font-size: 18px;
				color: #e0e0e0;
			}

			@keyframes spin {
				0% {
					transform: rotate(0deg);
				}
				100% {
					transform: rotate(360deg);
				}
			}

			/* Hide loading screen when app is loaded */
			body.app-loaded .loading-container {
				display: none;
			}
		</style>

		<script>
			// Hide loading screen when the app is fully loaded
			window.addEventListener("DOMContentLoaded", () => {
				// The React app will call this function when it's fully loaded
				window.appLoaded = function () {
					document.body.classList.add("app-loaded")
				}

				// Fallback: hide loading screen after 10 seconds if the app doesn't call appLoaded
				setTimeout(() => {
					document.body.classList.add("app-loaded")
				}, 10000)
			})
		</script>
	</body>
</html>
